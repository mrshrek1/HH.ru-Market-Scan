‼️HH.ru – Market Scan:  Парсим вакансии и превращаем их в управленческую аналитику зарплат, навыков, требований по одной команде в Telegram (Сценарий + Google Sheets+Бот)

Более расширенный сценарий на n8n c углубленной аналитикой по рынку труда с hh.ru. 
​
По одному запросу из Telegram‑бота сценарий собирает свежие вакансии, выгружает их в Google Sheets и автоматически считает статистику: средние зарплаты по валютам, диапазоны, топ‑скиллы, топ‑города и требования по опыту без ручного сбора или сводных таблиц

➡️ Функционал

Сбор вакансий по ключевому слову
Бот принимает запрос (например: product manager), сценарий подтягивает подборку вакансий и для каждой сохраняет должность, вилку зарплаты, валюту, город, компанию, обязанности, требования и ссылку ( подробнее смотрите скрин )

Автоочистка перед каждым запуском
Старые данные на листе RawData очищаются ( руками чистить ничего не надо ), остаётся только шапка — каждая выгрузка это «чистый лист» под конкретный запрос

Готовая аналитика на листе Analysis
​Таблица автоматически считает:

минимальную, максимальную и среднюю зарплату по каждой валюте;
топ‑навыки на основе требований из вакансий;
топ‑города по количеству предложений;
распределение по требуемому опыту и должностям.

Структурированная выгрузка в Google Sheets
Для каждой вакансии формируется набор полей и записывается построчно в лист RawData:
Должность
ЗП_от / ЗП_до
Валюта (RUB / USD / EUR и т.п., с нормализацией RUR → RUB на этапе анализа)
Город
Компания
Сфера_деятельности
Условия (тип занятости)
Обязанности (описание)
Требования (список key_skills, склеенный в строку через запятую)
Опыт
Ссылка на вакансию

Отчёт в Telegram
После обработки вы получаете компактный отчёт в чате: сколько вакансий найдено, средние и диапазоны по зарплатам, топ‑3 навыка, топ‑3 города, самое частое требование по опыту и ссылку на Google‑таблицу ( смотрите скриншот )

➡️ Как запустить

1️⃣Создай Telegram‑бота через @BotFather и скопируй токен.
2️⃣В Google Sheets сделай таблицу с двумя листами: RawData (сырые вакансии) и Analysis (аналитика), вставь формулы, как в шаблоне ( шаблон с формулами в файле word+ссылка на таблицу для визуального просмотра внизу поста )
3️⃣В n8n импортируй JSON‑шаблон, подставь свой токен бота и подключи свой аккаунт Google‑таблиц и нужную таблицу.
4️⃣Запусти сценарий и напиши боту название должности — данные загрузятся в таблицу, а краткий отчёт придет в Telegram

У этого шаблона фактически безграничные возможности для расширения: связка «бот → HH → Google‑таблица → аналитика» уже собрана, дальше можно наращивать любой функционал под свои задачи.Ограничение в 20 вакансий можете изменить на любое нужное вам внутри шаблона

➡️Примеры, что можно добавить:

Автоотчёты в канал/чат раз в день или неделю по ключевым ролям (market watch по выбранным позициям).
Отправку PDF/скринов срезов из таблицы руководителям или заказчикам вакансий.
Дашборд в BI (Data Studio / Power BI / Looker Studio) поверх той же таблицы для наглядной визуализации динамики рынка.
Логику алертов: например, уведомления, если по роли выросла средняя зарплата или сильно изменился спрос по конкретному навыку.
Сравнение нескольких должностей: запуск нескольких запросов подряд и сбор единого сравнительного отчёта по ролям и вилкам (например, KAM vs Sales Manager vs Head of Sales).
